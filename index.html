<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Your Page Title</title>

  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/sstyles.css">
  <link rel="stylesheet" href="css/utilities.css">

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/dompurify@2.3.10/dist/purify.min.js" defer></script>

  <script src="js/api.js" defer></script>
  <script src="js/app.js" defer></script>
  <script src="js/commands.js" defer></script>
  <script src="js/pages.js" defer></script>
  <script src="js/ui.js" defer></script>

</head>

<body>
  <div id="content">
    <div class="main-content">
      <div class="wrapper">
        <h1 class="latest" id="main-title">Double Click Me</h1>
        <div class="controls">
          <button id="load-json-button" title="Load JSON üìÇ">üìÇ</button>
          <button id="open-form-button" title="Add New Page ‚ûï">‚ûï</button>
          <button id="export-json-button" title="Export JSON üì•">üì•</button>
          <button id="clear-button" title="Clear All üßπ">üßπ</button>
          <button id="zoom-button" title="Zoom üîç">üîç</button>
          <button id="sort-button" title="Sort by Date Posted üóìÔ∏è">üóìÔ∏è</button>
          <input type="file" id="json-file-input" accept=".json" style="display: none;">
          <input type="text" id="command-input" placeholder="Type to search, '/' for commands" />
        </div>
        <div id="status-message" style="display: none;"></div>
        <div class="add-page-form" id="add-page-form" style="display: none;">
          <h2 id="form-title">Add New Page</h2>
          <form id="page-form">
            <label for="picture">Picture URL:</label>
            <div class="picture-input">
              <input type="url" id="picture" name="picture" placeholder="https://example.com/image.jpg">
              <input type="color" id="bg-color" name="bg-color" value="#FFFF00">
            </div>
            <label for="title">Title:</label>
            <input type="text" id="title" name="title" placeholder="Page Title" required>
            <label for="description">Description:</label>
            <input type="text" id="description" name="description" placeholder="Brief Description" required>
            <label for="date">Date:</label>
            <input type="text" id="date" name="date" placeholder="MM/DD/YYYY" required>
            <label for="body">Body (Markdown Supported):</label>
            <textarea id="body" name="body" placeholder="Your markdown content here." required></textarea>
            <div class="form-buttons">
              <button type="submit" id="save-button" title="Add/Save Page üíæ">üíæ</button>
              <button type="button" id="close-form-button" title="Cancel ‚ùå">‚ùå</button>
            </div>
          </form>
        </div>
        <div class="latest-grid" id="latest-grid">
          <p>No pages available. Please add a new page.</p>
        </div>
        <div class="pagination" id="pagination"></div>
        <div class="storage-info" id="storage-info"></div>
      </div>
    </div>
  </div>
  <div class="expanded-overlay" id="expanded-overlay"></div>
  <div class="suggestion-box" id="suggestion-box" style="display: none;"></div>
  <noscript>
    <p>Please enable JavaScript to use this application.</p>
  </noscript>
  <script>
    const openFormButton = document.getElementById("open-form-button");
    const closeFormButton = document.getElementById("close-form-button");
    const addPageForm = document.getElementById("add-page-form");
    const pageForm = document.getElementById("page-form");
    const latestGrid = document.getElementById("latest-grid");
    const loadJsonButton = document.getElementById("load-json-button");
    const exportJsonButton = document.getElementById("export-json-button");
    const clearButton = document.getElementById("clear-button");
    const jsonFileInput = document.getElementById("json-file-input");
    const formTitle = document.getElementById("form-title");
    const paginationContainer = document.getElementById("pagination");
    const zoomButton = document.getElementById("zoom-button");
    const sortButton = document.getElementById("sort-button");
    const saveButton = document.getElementById("save-button");
    const overlay = document.getElementById("expanded-overlay");
    const commandInput = document.getElementById("command-input");
    const bodyTextarea = document.getElementById("body");
    let mainTitle = document.getElementById("main-title");
    let titleSaved = false;
    const GITHUB_JSON_URL =
      "data/posts.json";
    let pages = [];
    let currentEditIndex = null;
    let expandedPageId = null;
    let expandedScrollPosition = 0;
    const imageCache = new Map();
    const itemsPerPage = 10;
    let currentPage = 1;
    let totalPages = 10;
    const zoomLevels = [75, 100, 125, 150];
    let currentZoomLevelIndex = 1;
    const sortOrder = ["date", "name", "color", "üö´"];
    let currentSortIndex = 0;
    let currentSort = sortOrder[currentSortIndex];
    let nextPageId = 1;
    let searchQuery = "";
    let blogTitle = "Make a Blog";
    const suggestionBox = document.createElement("div");
    suggestionBox.className = "suggestion-box";
    document.body.appendChild(suggestionBox);
    suggestionBox.style.display = "none";
    let currentSuggestionMode = null;
    let justAcceptedSuggestion = false;
    const availableCommands = [
      {
        name: "generatepost",
        description: "Generates blog content based on a provided prompt.",
        example: "/generatepost '[REPLACE ME WITH YOUR PROMPT]'"
      },
      {
        name: "createpost",
        description: "Creates a new blog post with the provided title.",
        example: "/createpost '[REPLACE ME WITH YOUR POSTS TITLE]'"
      },
      {
        name: "saveapikey",
        description: "Registers your OpenAI API key for content generation.",
        example: "/saveapikey '[REPLACE ME WITH YOUR OPENAI KEY]'"
      },
      {
        name: "clearapikey",
        description: "Removes the currently registered OpenAI API key.",
        example: "/clearapikey"
      }
    ];
  </script>
</body>

</html>